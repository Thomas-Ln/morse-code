/*! For license information please see main.ebf4e67c.chunk.js.LICENSE.txt */
(this.webpackJsonpmorse_code=this.webpackJsonpmorse_code||[]).push([[0],{23:function(t,e,i){t.exports=i(38)},28:function(t,e,i){},37:function(t,e,i){},38:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),a=i(8),o=i.n(a),r=(i(28),i(15));"undefined"===typeof String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")});var l={A:".-",B:"-...",C:"-.-.",D:"-..",E:".",F:"..-.",G:"--.",H:"....",I:"..",J:".---",K:"-.-",L:".-..",M:"--",N:"-.",O:"---",P:".--.",Q:"--.-",R:".-.",S:"...",T:"-",U:"..-",V:"...-",W:".--",X:"-..-",Y:"-.--",Z:"--..",1:".----",2:"..---",3:"...--",4:"....-",5:".....",6:"-....",7:"--...",8:"---..",9:"----.",0:"-----",".":".-.-.-",",":"--..--",":":"---...","?":"..--..","'":".----.","-":"-....-","/":"-..-.","(":"-.--.",")":"-.--.-",'"':".-..-.","@":".--.-.","=":"-...-","&":".-...","+":".-.-.","!":"-.-.--"," ":"/"},c={},h={"<AA>":".-.-","<AR>":".-.-.","<AS>":".-...","<BK>":"-...-.-","<BT>":"-...-","<CL>":"-.-..-..","<CT>":"-.-.-","<DO>":"-..---","<KN>":"-.--.","<SK>":"...-.-","<VA>":"...-.-","<SN>":"...-.","<VE>":"...-.","<SOS>":"...---..."},u={},d={};for(var m in l)d[m]=l[m],c[l[m]]=m,u[l[m]]=m;for(var f in h)d[f]=h[f],u[h[f]]=f;var g=function(t){return t=(t=(t=t.toUpperCase()).trim()).replace(/\s+/g," ")};function p(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={morse:"",message:"",hasError:!1};if(""===(t=g(t)))return i;for(var n,s,a,o,r,c,h=[];t.length>0;)s=1,e&&(n=t.match(/^<...?>/))&&(s=n[0].length),h.push(t.slice(0,s)),t=t.slice(s,t.length);for(a=e?d:l,o=0;o<h.length;o++)void 0===(r=a[c=h[o]])?(i.message+="#"+c+"#",i.morse+="# ",i.hasError=!0):(i.message+=c,i.morse+=r+" ");return i.morse=i.morse.slice(0,i.morse.length-1),i}var v=function(t){return t=(t=(t=(t=(t=(t=(t=t.replace(/\|/g,"/")).replace(/\//g," / ")).replace(/\s+/g," ")).replace(/(\/ )+\//g,"/")).replace(/_/g,"-")).replace(/^\s+/,"")).replace(/\s+$/,"")};function _(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={morse:"",message:"",hasError:!1};if(""===(t=v(t)))return i;var n,s,a,o=t.split(" ");n=e?u:c;for(var r=0;r<o.length;r++)void 0===(s=n[a=o[r]])?(i.morse+="#"+a+"# ",i.message+="#",i.hasError=!0):(i.morse+=a+" ",i.message+=s);return i.morse=i.morse.slice(0,i.morse.length-1),i}var y=i(5),b=i(6),k=i(13),C=i(12);function w(t){return Math.round(N(t))}function N(t){return 1200/t}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return Math.round(7*T(t,e))}function T(t,e){return N(t)*function(t,e){return(50*t-31*e)/(19*e)}(t,e)}var E=function(t){Object(k.a)(i,t);var e=Object(C.a)(i);function i(t,n,s){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:550,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8e3;return Object(y.a)(this,i),(a=e.call(this,t,n,s)).frequency=o,a.sampleRate=r,a}return Object(b.a)(i,[{key:"getSample",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return i.getSampleGeneral(this.getTimings(),this.frequency,this.sampleRate,t)}},{key:"getWAASample",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=Math.max(5,t);var e=this.getTimings();e.push(-t);var i=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(void 0===i)throw new Error("No OfflineAudioContext class defined");var n=new i(1,this.sampleRate*(this.getDuration()+t)/1e3,this.sampleRate),s=n.createGain();s.gain.setValueAtTime(.813,0);var a=n.createBiquadFilter();a.type="lowpass",a.frequency.setValueAtTime(1.1*this.frequency,0),s.connect(a),a.connect(n.destination);for(var o,r,l=0,c=0;c<e.length;c++)r=Math.abs(e[c])/1e3,e[c]>0&&((o=n.createOscillator()).type="sine",o.frequency.setValueAtTime(this.frequency,l),o.start(l),o.stop(l+r),o.connect(s)),l+=r;return n.startRendering().then((function(t){return t.getChannelData(0)}))}}],[{key:"getSampleGeneral",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=[];if(0===t.length)return[];t.push(-Math.max(5,n));for(var a,o,r=1.5*e/i,l=Math.SQRT1_2,c=Math.sin(2*Math.PI*r),h=Math.cos(2*Math.PI*r),u=c/(2*Math.pow(10,l/20)),d=1+u,m=.5*(1-h)/d,f=(1-h)/d,g=.5*(1-h)/d,p=-2*h/d,v=(1-u)/d,_=2*Math.PI*e/i,y=t[0]>0?1:0,b=0,k=0,C=0,w=0,N=.813,x=0;x<t.length;x+=1){for(var T=i*Math.abs(t[x])/1e3,E=0;E<T;E+=1)o=m*(a=y*Math.sin(E*_))+f*b+g*k-p*C-v*w,s.push(o*N),k=b,b=a,w=C,C=o;y=1-y}return s}}]),i}(function(t){Object(k.a)(i,t);var e=Object(C.a)(i);function i(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;return Object(y.a)(this,i),(t=e.call(this,n)).wpm=s,t.fwpm=a,t}return Object(b.a)(i,[{key:"getTimings",value:function(){return i.getTimingsGeneral(w(this._wpm),(t=this._wpm,Math.round(3*N(t))),function(t){return w(t)}(this._wpm),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return Math.round(3*T(t,e))}(this._wpm,this._fwpm),x(this._wpm,this._fwpm),this.morse);var t}},{key:"getDuration",value:function(){for(var t=this.getTimings(),e=0,i=0;i<t.length;i++)e+=Math.abs(t[i]);return e}},{key:"wpm",set:function(t){this._wpm=t,t<this._fwpm&&(this._fwpm=t)},get:function(){return this._wpm}},{key:"fwpm",set:function(t){this._fwpm=t,t>this._wpm&&(this._wpm=t)},get:function(){return this._fwpm}},{key:"wordSpace",get:function(){return x(this._wpm,this._fwpm)}}],[{key:"getTimingsGeneral",value:function(t,e,i,n,s,a){a=(a=a.replace(/ \/ /g,"/")).replace(/([\.\-])(?=[\.\-])/g,"$1+");for(var o=[],r=0;r<a.length;r++)switch(a[r]){case".":o.push(t);break;case"-":o.push(e);break;case"+":o.push(-i);break;case" ":o.push(-n);break;case"/":o.push(-s)}return o}}]),i}(function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(y.a)(this,t),this.useProsigns=e,this.input="",this.output="",this.morse="",this.message="",this.inputWasMorse=void 0,this.hasError=void 0}return Object(b.a)(t,[{key:"translate",value:function(t,e){var i;if("undefined"===typeof e&&(e=function(t){return null!==(t=v(t)).match(/^[/.-][ /.-]*$/)}(t)),e?(this.inputWasMorse=!0,i=_(t,this.useProsigns)):(this.inputWasMorse=!1,i=p(t,this.useProsigns)),this.morse=i.morse,this.message=i.message,this.inputWasMorse?(this.input=this.morse,this.output=this.message):(this.input=this.message,this.output=this.morse),this.hasError=i.hasError,this.hasError)throw new Error("Error in input");return this.output}},{key:"clearError",value:function(){this.inputWasMorse||(this.message=this.message.replace(/#[^#]*?#/g,"")),this.morse=this.morse.replace(/#/g,""),this.hasError=!1}}]),t}())),O=i(17),A=i(9),P=function(t){Object(k.a)(i,t);var e=Object(C.a)(i);function i(t,n,s,a,o){var r;return Object(y.a)(this,i),r=e.call(this,t,n,s),void 0!==a&&(r.soundOnCallback=a),void 0!==o&&(r.soundOffCallback=o),r._wasOn=!1,r._count=0,r}return Object(b.a)(i,[{key:"_initialiseAudioNodes",value:function(){Object(O.a)(Object(A.a)(i.prototype),"_initialiseAudioNodes",this).call(this),this.jsNode=this.audioContext.createScriptProcessor(256,1,1),this.jsNode.connect(this.audioContext.destination),this.jsNode.onaudioprocess=this._processSound.bind(this),this.splitterNode.connect(this.jsNode)}},{key:"load",value:function(t){this._timings=t,Object(O.a)(Object(A.a)(i.prototype),"load",this).call(this,t)}},{key:"_processSound",value:function(t){for(var e=t.inputBuffer.getChannelData(0),i=0,n=0;n<e.length;n++)i+=Math.abs(e[n])>0;var s=i>128;s&&!this._wasOn?this._on():!s&&this._wasOn&&this._off(),this._wasOn=s}},{key:"_on",value:function(){this.soundOnCallback(this._timings[this._count]),this._count=(this._count+1)%this._timings.length}},{key:"_off",value:function(){this.soundOffCallback(this._timings[this._count]),this._count=(this._count+1)%this._timings.length}},{key:"soundOnCallback",value:function(t){}},{key:"soundOffCallback",value:function(t){}},{key:"audioType",get:function(){return 5}}]),i}(function(){function t(e,i,n){if(Object(y.a)(this,t),void 0!==e&&(this.sequenceStartCallback=e),void 0!==i&&(this.sequenceEndingCallback=i),void 0!==n&&(this.soundStoppedCallback=n),this._noAudio=!1,console.log("Trying Web Audio API (Oscillators)"),this.audioContextClass=window.AudioContext||window.webkitAudioContext,void 0===this.audioContextClass)throw this._noAudio=!0,new Error("No AudioContext class defined");this.loop=!1,this.frequency=void 0,this.startPadding=0,this.endPadding=0,this._cTimings=[],this._isPlaying=!1,this._isPaused=!1,this._volume=1,this._lookAheadTime=.1,this._timerInterval=.05,this._timer=void 0,this._stopTimer=void 0,this._notPlayedANote=!0}return Object(b.a)(t,[{key:"_initialiseAudioNodes",value:function(){this.audioContext=new this.audioContextClass,this.splitterNode=this.audioContext.createGain(),this.lowPassNode=this.audioContext.createBiquadFilter(),this.lowPassNode.type="lowpass",this.lowPassNode.frequency.setValueAtTime(1.1*this.frequency,this.audioContext.currentTime),this.gainNode=this.audioContext.createGain(),this.volume=this._volume,this.splitterNode.connect(this.lowPassNode),this.lowPassNode.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination),this._notPlayedANote=!0}},{key:"loadCWWave",value:function(t){this.load(t.getTimings()),this.frequency=t.frequency}},{key:"load",value:function(t){this.endPadding>0&&t.push(-this.endPadding),this._cTimings=[0],this.isNote=[];for(var e=0;e<t.length;e++)this._cTimings[e+1]=this._cTimings[e]+Math.abs(t[e])/1e3,this.isNote[e]=t[e]>0;this.sequenceLength=this.isNote.length}},{key:"loadNextCWWave",value:function(t){this.loadNext(t.getTimings())}},{key:"loadNext",value:function(t){this.upNext=t}},{key:"playFromStart",value:function(){this._noAudio||0===this._cTimings.length||(this.stop(),this._initialiseAudioNodes(),this._nextNote=0,this._isPlaying=!0,this._isPaused=!0,this.play())}},{key:"play",value:function(){this._isPlaying||this.playFromStart(),this._isPaused&&(clearInterval(this._stopTimer),clearInterval(this._startTimer),clearInterval(this._timer),this._isPaused=!1,this._tZero=this.audioContext.currentTime-this._cTimings[this._nextNote]+(this._notPlayedANote?this.startPadding/1e3:0),this._scheduleNotes()&&(this._timer=setInterval(function(){this._scheduleNotes()}.bind(this),1e3*this._timerInterval)))}},{key:"pause",value:function(){this._isPlaying&&(this._isPaused=!0,clearInterval(this._timer),this.isNote[this._nextNote]||(this._nextNote++,this._nextNote===this.sequenceLength&&(this.loop||void 0!==this.upNext)&&(this._nextNote=0,void 0!==this.upNext&&(this.load(this.upNext),this.upNext=void 0))))}},{key:"stop",value:function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1,clearInterval(this._timer),clearInterval(this._stopTimer),clearInterval(this._startTimer),this.audioContext.close(),this.soundStoppedCallback())}},{key:"_scheduleNotes",value:function(){for(var t,e,i,n=this.audioContext.currentTime;this._nextNote<this.sequenceLength&&this._cTimings[this._nextNote]<n-this._tZero+this._lookAheadTime;)this._notPlayedANote=!1,0!==this._nextNote||this.sequenceStartCallbackFired||(this._startTimer=setTimeout(function(){this.sequenceStartCallback()}.bind(this),1e3*(this._tZero+this._cTimings[this._nextNote]-n)),this.sequenceStartCallbackFired=!0),this.isNote[this._nextNote]&&(e=this._tZero+this._cTimings[this._nextNote],i=this._tZero+this._cTimings[this._nextNote+1],this._soundEndTime=i,(t=this.audioContext.createOscillator()).type="sine",t.frequency.setValueAtTime(this.frequency,e),t.start(e),t.stop(this._soundEndTime),t.connect(this.splitterNode)),this._nextNote++,this._nextNote===this.sequenceLength&&(this.loop||void 0!==this.upNext)&&(this._tZero+=this._cTimings[this._nextNote],this._nextNote=0,void 0!==this.upNext&&(this.load(this.upNext),this.upNext=void 0));return this._nextNote===this.sequenceLength?(clearInterval(this._timer),this._stopTimer=setTimeout(function(){this.stop()}.bind(this),1e3*(this._soundEndTime-n+3*this._lookAheadTime)),!1):(n-this._tZero+this._timerInterval+this._lookAheadTime>this._cTimings[this.sequenceLength-1]&&this.sequenceStartCallbackFired&&(this.sequenceEndingCallback(),this.sequenceStartCallbackFired=!1),!0)}},{key:"hasError",value:function(){return this._noAudio}},{key:"sequenceStartCallback",value:function(){}},{key:"sequenceEndingCallback",value:function(){}},{key:"soundStoppedCallback",value:function(){}},{key:"volume",set:function(t){this._volume=Math.min(Math.max(t,0),1);try{this.gainNode.gain.setValueAtTime(.813*this._volume,this.audioContext.currentTime)}catch(e){}},get:function(){return this._volume}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"isPaused",get:function(){return this._isPaused}},{key:"nextNote",get:function(){return this._nextNote}},{key:"audioType",get:function(){return 4}}]),t}()),S=i(19),j=i(22),q=i(14),M=i(21),I=function(t){t.modalContent;var e=Object(j.a)(t,["modalContent"]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(q.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),s.a.createElement(q.a.Header,{closeButton:!0},s.a.createElement(q.a.Title,{id:"contained-modal-title-vcenter"},"Morse Code")),s.a.createElement(q.a.Body,{className:"text-center"},s.a.createElement("img",{src:"International_Morse_Code-fr.png",alt:"morse code table"})),s.a.createElement(q.a.Footer,null,s.a.createElement(M.a,{variant:"outline-danger",size:"lg",onClick:e.onHide},"Close"))))},W=function(t){var e=t.id,i=void 0===e?"":e,n=t.iconStyle,a=void 0===n?"fas":n,o=t.icon,r=t.title,l=t.onClick;return s.a.createElement("button",{id:i,className:"my-lg-3 mx-3 btn btn-outline-primary rounded-circle d-flex justify-content-center align-items-center fz-20",title:r,onClick:l},s.a.createElement("i",{className:a+" fa-"+o}))},F=i(10);i(34);var L=function(t,e){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)};i(35),i(36),i(37);var B=function(){var t=Object(n.useState)(""),e=Object(r.a)(t,2),i=e[0],a=e[1],o=Object(n.useState)(p(i).morse),l=Object(r.a)(o,2),c=l[0],h=l[1],u=Object(n.useState)(!1),d=Object(r.a)(u,2),m=d[0],f=d[1],g=s.a.useState(!1),v=Object(r.a)(g,2),y=v[0],b=v[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("main",{className:"container h-90 d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:"row w-100 h-75 flex-lg-row flex-column-reverse"},s.a.createElement("nav",{className:"row col-lg-1 py-lg-3 py-1 justify-content-center flex-lg-column justify-content-lg-start"},s.a.createElement(W,{icon:"times",title:"Reset",onClick:function(){a(""),h(""),document.querySelector("#input").focus()}}),s.a.createElement(W,{icon:"font",title:"Morse Table","data-toggle":"modal","data-target":"#alphabet",onClick:function(){return b(!0)}})),s.a.createElement("textarea",{id:"input",className:"col m-2 p-3 h-100 border bg-light thin-scrollbar fz-16",onChange:function(t){var e=t.currentTarget.value;a(e),h(function(t){return t.match(/\w/)?p(t).morse:_(t).message}(e))},autoFocus:!0,placeholder:"\n  Morse code translater\n  ===================\n  Translation\n  -------------------\n  \u274c  If text contains letters translate text2morse\n      otherwise translate morse2text\n\n  Morse\n  -----------\n  \u274c  Type . & - for morse code\n  \u274c  a space separates letters of the same word\n  \u274c  / separates morse words\n  \u274c  # is an unrecognized character\n  ",value:i}),s.a.createElement("nav",{className:"row col-lg-1 py-1 flex-column justify-content-center align-items-center"},s.a.createElement(W,{id:"swap",icon:"sync-alt",title:"Swap",onClick:function(){a(c),h(i),document.querySelector("#swap").animate([{transform:"rotate(0deg)"},{transform:"rotate(180deg)"}],{duration:300})}})),s.a.createElement("pre",{id:"output",className:"col m-2 p-3 h-100 border bg-light thin-scrollbar text-wrap fz-16"},c),s.a.createElement("nav",{className:"row col-lg-1 py-lg-3 py-1 justify-content-center flex-lg-column justify-content-lg-start"},s.a.createElement(S.CopyToClipboard,{text:c},s.a.createElement(W,{icon:"copy",title:"Copy",onClick:function(){0===c.length?F.c.error("Nothing to copy !",{autoClose:1500}):F.c.info("Copied to clipboard !",{autoClose:1500})}})),s.a.createElement(W,{icon:"save",title:"Download",onClick:function(){0===c.length?F.c.error("Nothing to download !",{autoClose:1500}):L("morse.txt",c)}}),s.a.createElement(W,{id:"audio",icon:"play",title:"Play Audio",onClick:function(){if(!0===m.isPlaying)return m.stop(),!1;var t=new E;try{t.translate(c)}catch(s){return F.c.error("# Unrecognized character !"),!1}var e=document.querySelector("#audio");e.setAttribute("style","transition: all 0s ease !important;");var i=function(){e.firstElementChild.classList.toggle("fa-play"),e.firstElementChild.classList.toggle("fa-stop")};i();var n=new P;f(n);n.soundOnCallback=function(){return e.classList.add("active")},n.soundOffCallback=function(){return e.classList.remove("active")},n.soundStoppedCallback=function(){i(),e.setAttribute("style","")},n.volume=1,n.loadCWWave(t),n.playFromStart()}}))),s.a.createElement(I,{show:y,onHide:function(){return b(!1)}}),s.a.createElement(F.b,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,transition:F.a,pauseOnHover:!1})),s.a.createElement("footer",{className:"container-fluid text-center fz-12"},s.a.createElement("p",null,"This app is a personnal training for React & Bootstrap."),s.a.createElement("p",null,"The morse API is provided by ",s.a.createElement("a",{href:"https://github.com/scp93ch/morse-pro"},"@scp93ch"),", go check his website ",s.a.createElement("a",{href:"https://morsecode.world/international/translator.html"},"MorseCode.world"),".")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.ebf4e67c.chunk.js.map